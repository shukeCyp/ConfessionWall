"use strict";const e=require("../../common/vendor.js"),n={data:()=>({isRefreshing:!1,bannerList:[{image:"/static/banner.png",url:""},{image:"/static/banner.png",url:""},{image:"/static/banner.png",url:""}],posts:[{avatar:"/static/logo.png",nickname:"匿名用户",time:"刚刚",content:"今天天气真好，想和你一起散步",type:"text",likes:12,likeUsers:["张三","李四","王五"],comments:[{nickname:"张三",content:"真不错呢！",time:"5分钟前"},{nickname:"李四",content:"校园生活真美好",time:"3分钟前"},{nickname:"王五",content:"期待遇见你",time:"2分钟前"},{nickname:"赵六",content:"加油加油！",time:"1分钟前"},{nickname:"小明",content:"太棒了",time:"刚刚"},{nickname:"小红",content:"继续努力",time:"刚刚"}],isLiked:!1},{avatar:"/static/logo.png",nickname:"匿名用户",time:"5分钟前",content:"期待与你相遇在校园的每个角落",type:"image",images:["/static/banner.png"],likes:8,likeUsers:["张三","李四"],comments:[{nickname:"张三",content:"真不错呢！",time:"5分钟前"},{nickname:"李四",content:"校园生活真美好",time:"3分钟前"},{nickname:"王五",content:"期待遇见你",time:"2分钟前"},{nickname:"赵六",content:"加油加油！",time:"1分钟前"},{nickname:"小明",content:"太棒了",time:"刚刚"},{nickname:"小红",content:"继续努力",time:"刚刚"}],isLiked:!1},{avatar:"/static/logo.png",nickname:"匿名用户",time:"10分钟前",content:"美好的校园生活",type:"images",images:["/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png","/static/banner.png"],likes:15,likeUsers:["张三","李四","王五"],comments:[{nickname:"张三",content:"真不错呢！",time:"5分钟前"},{nickname:"李四",content:"校园生活真美好",time:"3分钟前"},{nickname:"王五",content:"期待遇见你",time:"2分钟前"},{nickname:"赵六",content:"加油加油！",time:"1分钟前"},{nickname:"小明",content:"太棒了",time:"刚刚"},{nickname:"小红",content:"继续努力",time:"刚刚"}],isLiked:!1},{avatar:"/static/logo.png",nickname:"匿名用户",time:"30分钟前",content:"校园的一天",type:"video",video:"/static/video.mp4",videoCover:"/static/banner.png",likes:20,likeUsers:["张三","李四","王五"],comments:[{nickname:"张三",content:"真不错呢！",time:"5分钟前"},{nickname:"李四",content:"校园生活真美好",time:"3分钟前"},{nickname:"王五",content:"期待遇见你",time:"2分钟前"},{nickname:"赵六",content:"加油加油！",time:"1分钟前"},{nickname:"小明",content:"太棒了",time:"刚刚"},{nickname:"小红",content:"继续努力",time:"刚刚"}],isLiked:!1}]}),methods:{handleBanner(n){n.url&&e.index.navigateTo({url:n.url})},onRefresh(){this.isRefreshing=!0,setTimeout((()=>{this.isRefreshing=!1,e.index.showToast({title:"刷新成功",icon:"none"})}),1e3)},previewImage(n,t){e.index.previewImage({urls:n,current:t})},handleLike(e){this.posts[e].isLiked=!this.posts[e].isLiked,this.posts[e].likes+=this.posts[e].isLiked?1:-1},handleComment(n){e.index.showToast({title:"评论功能开发中",icon:"none"})},showActionSheet(){e.index.showActionSheet({itemList:["发布文字","发布图片"],success:n=>{0===n.tapIndex?e.index.navigateTo({url:"/pages/post/post?type=text"}):1===n.tapIndex&&e.index.navigateTo({url:"/pages/post/post?type=image"})}})},viewAllComments(n){e.index.navigateTo({url:`/pages/comments/comments?postId=${n}`})}}};const t=e._export_sfc(n,[["render",function(n,t,i,a,s,m){return{a:e.f(s.bannerList,((n,t,i)=>({a:n.image,b:e.o((e=>m.handleBanner(n)),t),c:t}))),b:e.f(s.posts,((t,i,a)=>e.e({a:t.avatar,b:e.t(t.nickname),c:e.t(t.content),d:"image"===t.type},"image"===t.type?{e:t.images[0],f:e.o((e=>m.previewImage(t.images,0)),i)}:{},{g:"images"===t.type},"images"===t.type?{h:e.f(t.images,((n,i,a)=>({a:i,b:n,c:e.o((e=>m.previewImage(t.images,i)),i)})))}:{},{i:"video"===t.type},"video"===t.type?{j:t.video,k:t.videoCover,l:e.o(((...e)=>n.playVideo&&n.playVideo(...e)),i)}:{},{m:e.t(t.time),n:e.n({active:t.isLiked}),o:e.o((e=>m.handleLike(i)),i),p:e.o((e=>m.handleComment(i)),i),q:t.likes>0||t.comments.length>0},t.likes>0||t.comments.length>0?e.e({r:t.likes>0},t.likes>0?{s:e.t(t.likeUsers.join("、")),t:e.t(t.likes)}:{},{v:t.comments.length>0},t.comments.length>0?e.e({w:e.f(t.comments.slice(0,5),((n,t,i)=>({a:e.t(n.nickname),b:e.t(n.content),c:t}))),x:t.comments.length>5},t.comments.length>5?{y:e.t(t.comments.length),z:e.o((e=>m.viewAllComments(i)),i)}:{}):{}):{},{A:i}))),c:e.o(((...e)=>m.onRefresh&&m.onRefresh(...e))),d:s.isRefreshing,e:e.o(((...e)=>m.showActionSheet&&m.showActionSheet(...e)))}}]]);wx.createPage(t);
